{"version":3,"sources":["scripts/preprocess.js","scripts/viz.js","scripts/helper.js","scripts/legend.js","scripts/tooltip.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/nest.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-collection/src/keys.js","../node_modules/d3-collection/src/values.js","../node_modules/d3-collection/src/entries.js","../node_modules/d3-collection/src/index.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/create.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-selection/src/touches.js","../node_modules/d3-selection/src/index.js","../node_modules/d3-tip/index.js","index.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["convertPropsToLowerCase","d","Object","keys","forEach","origProp","lowerCaseProp","toLocaleLowerCase","cleanNames","data","value","Player","charAt","toUpperCase","slice","toLowerCase","getTopPlayers","players","dict","p","keysSorted","sort","a","b","summarizeLines","acts","output","act","actObject","Act","Players","count","filter","element","parseInt","length","push","Count","replaceOthers","top","realOutput","counter","player","includes","updateGroupXScale","scale","width","updateYScale","height","createGroups","x","d3","select","drawBars","y","xSubgroup","color","tip","generateG","margin","append","attr","left","appendAxes","g","appendGraphLabels","text","defineColorScale","colors","scaleOrdinal","range","domain","setCanvasSize","positionLabels","updateXSubgroupScale","xScale","bandwidth","drawXAxis","call","axisBottom","tickFormat","drawYAxis","yScale","axisLeft","ticks","draw","getContents","prefix","Map","prototype","map","constructor","has","key","get","set","remove","property","clear","values","entries","size","empty","each","f","object","Array","isArray","i","n","o","sortKeys","sortValues","rollup","nest","apply","array","depth","createResult","setResult","keyValue","valuesByKey","result","sortKey","v","k","createObject","setObject","createMap","setMap","order","Set","proto","add","xhtml","svg","xlink","xml","xmlns","name","indexOf","namespaces","hasOwnProperty","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","none","selector","querySelector","groups","_groups","m","subgroups","j","group","subgroup","node","subnode","__data__","Selection","_parents","querySelectorAll","parents","matches","match","update","_enter","sparse","EnterNode","parent","datum","_next","_parent","appendChild","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","bind","enterGroup","updateGroup","exitGroup","i0","i1","previous","_exit","onenter","onupdate","onexit","merge","selection","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","parentNode","compare","ascending","compareNode","sortgroups","sortgroup","NaN","callback","arguments","nodes","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","split","classList","ClassList","_node","_names","join","splice","contains","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","create","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","index","contextListener","related","relatedTarget","event1","event0","parseTypenames","typenames","t","type","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","nextId","Local","_","toString","id","current","source","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","clientTop","changedTouches","touches","identifier","touch","points","direction","d3TipDirection","offset","d3TipOffset","d3TipHTML","rootElement","body","initNode","target","vis","getSVGNode","show","SVGElement","pop","content","poffset","dir","nodel","getNodeEl","directions","coords","scrollTop","scrollLeft","directionCallbacks","hide","functor","destroy","directionNorth","s","directionSouth","e","directionEast","w","directionWest","nw","directionNorthWest","ne","directionNorthEast","sw","directionSouthWest","se","directionSouthEast","bbox","getScreenBBox","offsetHeight","offsetWidth","div","svgNode","tagName","targetShape","targetel","matrix","tbbox","getBBox","right","bottom","barColors","bounds","svgSize","graphSize","scaleBand","padding","xSubgroupScale","scaleLinear","tooltip","csv","then","preproc","topPlayers","localeCompare","helper","legend","setSizing","build","viz","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","console","hmrApply","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["\n/**\n * Sanitizes the names from the data in the \"Player\" column.\n *\n * Ensures each word in the name begins with an uppercase letter followed by lowercase letters.\n *\n * @param {object[]} data The dataset with unsanitized names\n * @returns {object[]} The dataset with properly capitalized names\n */\n\n/**\n * @param d\n */\nfunction convertPropsToLowerCase (d) {\n  Object.keys(d).forEach(function (origProp) {\n    var lowerCaseProp = origProp.toLocaleLowerCase()\n    // if the uppercase and the original property name differ\n    // save the value associated with the original prop\n    // into the lowercase prop and delete the original one\n  })\n  return d\n}\n\n/**\n * @param data\n */\nexport function cleanNames (data) {\n  // TODO: Clean the player name data\n  data.forEach(value => {\n    // eslint-disable-next-line no-unused-expressions\n    value.Player = value.Player.charAt(0).toUpperCase() + value.Player.slice(1).toLowerCase()\n  })\n  return data\n}\n\n/**\n * Finds the names of the 5 players with the most lines in the play.\n *\n * @param {object[]} data The dataset containing all the lines of the play\n * @returns {string[]} The names of the top 5 players with most lines\n */\nexport function getTopPlayers (data) {\n  // TODO: Find the five top players with the most lines in the play\n  var players = ['Richmond', 'Sampson', 'Gregory', 'Abraham', 'Benvolio', 'Tybalt', 'First citizen', 'Capulet', 'Lady capulet', 'Montague', 'Lady montague', 'Prince', 'Romeo', 'Paris', 'Servant', 'Nurse', 'Juliet', 'Mercutio', 'First servant', 'Second servant', 'Second capulet', 'Chorus', 'Friar laurence', 'Peter', 'Lady  capulet', 'First musician', 'Second musician', 'Musician', 'Third musician', 'Balthasar', 'Apothecary', 'Friar john', 'Page', 'First watchman', 'Second watchman', 'Third watchman']\n  const dict = {}\n  players.forEach((p) => { dict[p] = 0 })\n  data.forEach(value => {\n    // eslint-disable-next-line no-unused-expressions\n    dict[value.Player] += 1\n  })\n  const keysSorted = Object.keys(dict).sort(function (a, b) { return dict[a] - dict[b] })\n  return keysSorted.slice(-5)\n}\n\n/**\n * Transforms the data by nesting it, grouping by act and then by player, indicating the line count\n * for each player in each act.\n *\n * The resulting data structure ressembles the following :\n *\n * [\n *  { Act : ___,\n *    Players : [\n *     {\n *       Player : ___,\n *       Count : ___\n *     }, ...\n *    ]\n *  }, ...\n * ]\n *\n * The number of the act (starting at 1) follows the 'Act' key. The name of the player follows the\n * 'Player' key. The number of lines that player has in that act follows the 'Count' key.\n *\n * @param {object[]} data The dataset\n * @returns {object[]} The nested data set grouping the line count by player and by act\n */\nexport function summarizeLines (data) {\n  // TODO : Generate the data structure as defined above\n  const acts = [1, 2, 3, 4, 5]\n  const players = ['Richmond', 'Sampson', 'Gregory', 'Abraham', 'Benvolio', 'Tybalt', 'First citizen', 'Capulet', 'Lady capulet', 'Montague', 'Lady montague', 'Prince', 'Romeo', 'Paris', 'Servant', 'Nurse', 'Juliet', 'Mercutio', 'First servant', 'Second servant', 'Second capulet', 'Chorus', 'Friar laurence', 'Peter', 'Lady  capulet', 'First musician', 'Second musician', 'Musician', 'Third musician', 'Balthasar', 'Apothecary', 'Friar john', 'Page', 'First watchman', 'Second watchman', 'Third watchman']\n  var output = []\n\n  acts.forEach(act => {\n    var actObject = {\n      Act: act,\n      Players: []\n    }\n\n    players.forEach(p => {\n      var count = data.filter(element => parseInt(element.Act) === act)\n        .filter(element => element.Player === p)\n        .length\n      actObject.Players.push({ Player: p, Count: count })\n    })\n\n    output.push(actObject)\n  })\n  return output\n}\n\n/**\n * For each act, replaces the players not in the top 5 with a player named 'Other',\n * whose line count corresponds to the sum of lines uttered in the act by players other\n * than the top 5 players.\n *\n * @param {object[]} data The dataset containing the count of lines of all players\n * @param {string[]} top The names of the top 5 players with the most lines in the play\n * @returns {object[]} The dataset with players not in the top 5 summarized as 'Other'\n */\nexport function replaceOthers (data, top) {\n  const realOutput = []\n  data.forEach(element => {\n    const output = {}\n    output.Act = element.Act\n    output.Players = []\n    let counter = 0\n    element.Players.forEach(player => {\n      if (!top.includes(player.Player)) {\n        counter += player.Count\n      } else {\n        output.Players.push(player)\n      }\n    })\n    output.Players.push({ Player: 'Other', Count: counter })\n    realOutput.push(output)\n  })\n  // TODO : For each act, sum the lines uttered by players not in the top 5 for the play\n  // and replace these players in the data structure by a player with name 'Other' and\n  // a line count corresponding to the sum of lines\n  return realOutput\n}\n","\n/**\n * Sets the domain and range of the X scale.\n *\n * @param {*} scale The x scale\n * @param {object[]} data The data to be used\n * @param {number} width The width of the graph\n */\nexport function updateGroupXScale (scale, data, width) {\n  // TODO : Set the domain and range of the groups' x scale\n}\n\n/**\n * Sets the domain and range of the Y scale.\n *\n * @param {*} scale The Y scale\n * @param {object[]} data The data to be used\n * @param {number} height The height of the graph\n */\nexport function updateYScale (scale, data, height) {\n  // TODO : Set the domain and range of the graph's y scale\n}\n\n/**\n * Creates the groups for the grouped bar chart and appends them to the graph.\n * Each group corresponds to an act.\n *\n * @param {object[]} data The data to be used\n * @param {*} x The graph's x scale\n */\nexport function createGroups (data, x) {\n  // TODO : Create the groups\n  d3.select('#graph-g')\n}\n\n/**\n * Draws the bars inside the groups\n *\n * @param {*} y The graph's y scale\n * @param {*} xSubgroup The x scale to use to position the rectangles in the groups\n * @param {string[]} players The names of the players, each corresponding to a bar in each group\n * @param {number} height The height of the graph\n * @param {*} color The color scale for the bars\n * @param {*} tip The tooltip to show when each bar is hovered and hide when it's not\n */\nexport function drawBars (y, xSubgroup, players, height, color, tip) {\n  // TODO : Draw the bars\n  d3.select('#graph-g')\n}\n","\n/**\n * Generates the SVG element g which will contain the data visualisation.\n *\n * @param {object} margin The desired margins around the graph\n * @returns {*} The d3 Selection for the created g element\n */\nexport function generateG (margin) {\n  return d3.select('.graph')\n    .select('svg')\n    .append('g')\n    .attr('id', 'graph-g')\n    .attr('transform',\n      'translate(' + margin.left + ',' + margin.top + ')')\n}\n\n/**\n * Appends an SVG g element which will contain the y axis.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendAxes (g) {\n  g.append('g')\n    .attr('class', 'x axis')\n\n  g.append('g')\n    .attr('class', 'y axis')\n}\n/**\n * Appends the labels for the the y axis and the title of the graph.\n *\n * @param {*} g The d3 Selection of the graph's g SVG element\n */\nexport function appendGraphLabels (g) {\n  g.append('text')\n    .text('Line Count')\n    .attr('class', 'y axis-text')\n    .attr('transform', 'rotate(-90)')\n    .attr('fill', '#898989')\n    .attr('font-size', 12)\n\n  g.append('text')\n    .text('Lines per act')\n    .attr('class', 'title')\n    .attr('fill', '#898989')\n}\n\n/**\n * Defines the color scale used in the graph.\n *\n * @param {string[]} colors A sorted array of color hex strings to be used\n * @param {string[]} players A sorted array of player names to use as the domain\n * @returns {*} The color scale to be used inthe graph\n */\nexport function defineColorScale (colors, players) {\n  return d3.scaleOrdinal().range(colors).domain(players)\n}\n\n/**\n * Sets the size of the SVG canvas containing the graph.\n *\n * @param {number} width The desired width\n * @param {number} height The desired height\n */\nexport function setCanvasSize (width, height) {\n  d3.select('#bar-chart').select('svg')\n    .attr('width', width)\n    .attr('height', height)\n}\n\n/**\n * Positions the x axis label, y axis label and title label on the graph.\n *\n * @param {number} width The width of the graph\n * @param {number} height The height of the graph\n */\nexport function positionLabels (width, height) {\n  d3.select('.y.axis-text')\n    .attr('x', -50)\n    .attr('y', height / 2)\n\n  d3.select('.title')\n    .attr('x', width / 2)\n    .attr('y', -35)\n}\n\n/**\n * Updates the X scale to be used within each group of the grouped bar char\n *\n * @param {*} scale The scale used for the subgroups\n * @param {string[]} players The players in the subgroups\n * @param {*} xScale The graph's encompassing x scale\n */\nexport function updateXSubgroupScale (scale, players, xScale) {\n  scale\n    .domain(players)\n    .range([0, xScale.bandwidth()])\n}\n\n/**\n * Draws the x axis at the bottom of the plot.\n *\n * @param {*} xScale The scale to use for the x axis\n * @param {number} height The height of the graph\n */\nexport function drawXAxis (xScale, height) {\n  d3.select('.x.axis')\n    .attr('transform', 'translate(0, ' + height + ')')\n    .call(d3.axisBottom(xScale)\n      .tickFormat(x => `Act ${x}`))\n}\n\n/**\n * Draws the y axis at the left of the plot.\n *\n * @param {*} yScale The scale to use for the y axis\n */\nexport function drawYAxis (yScale) {\n  d3.select('.y.axis').call(d3.axisLeft(yScale).ticks(5))\n}\n","/**\n * Draws a legend in the area at the bottom of the screen, corresponding to the bars' colors\n *\n * @param {string[]} data The data to be used to draw the legend elements\n * @param {*} color The color scale used throughout the visualisation\n */\nexport function draw (data, color) {\n  // TODO : Generate the legend in the div with class \"legend\". Each SVG rectangle\n  // should have a width and height set to 15.\n  // Tip : Append one div per legend element using class \"legend-element\".\n}\n","/**\n * Defines the contents of the tooltip.\n *\n * @param {object} d The data associated to the hovered element\n * @returns {string} The tooltip contents\n */\nexport function getContents (d) {\n  /* TODO : Define and return the tooltip contents including :\n      + A title stating the hovered element's group, with:\n        - Font family: Grenze Gotish\n        - Font size: 24px\n        - Font weigth: normal\n      + A bold label for the player name followed\n        by the hovered elements's player's name\n      + A bold label for the player's line count\n        followed by the number of lines\n  */\n  return ''\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export {default as nest} from \"./nest\";\nexport {default as set} from \"./set\";\nexport {default as map} from \"./map\";\nexport {default as keys} from \"./keys\";\nexport {default as values} from \"./values\";\nexport {default as entries} from \"./entries\";\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","/**\n * d3.tip\n * Copyright (c) 2013-2017 Justin Palmer\n *\n * Tooltips for d3.js SVG visualizations\n */\n// eslint-disable-next-line no-extra-semi\nimport { map } from 'd3-collection'\nimport { selection, select } from 'd3-selection'\n// Public - constructs a new tooltip\n//\n// Returns a tip\nexport default function() {\n  var direction   = d3TipDirection,\n      offset      = d3TipOffset,\n      html        = d3TipHTML,\n      rootElement = document.body,\n      node        = initNode(),\n      svg         = null,\n      point       = null,\n      target      = null\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    if (!svg) return\n    point = svg.createSVGPoint()\n    rootElement.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop ||\n      rootElement.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft ||\n      rootElement.scrollLeft\n\n    nodel.html(content)\n      .style('opacity', 1).style('pointer-events', 'all')\n\n    while (i--) nodel.classed(directions[i], false)\n    coords = directionCallbacks.get(dir).apply(this)\n    nodel.classed(dir, true)\n      .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n      .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n    return tip\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel.style('opacity', 0).style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.\n  // Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  // eslint-disable-next-line no-unused-vars\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    }\n\n    var args =  Array.prototype.slice.call(arguments)\n    selection.prototype.attr.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.\n  // Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  // eslint-disable-next-line no-unused-vars\n  tip.style = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    }\n\n    var args = Array.prototype.slice.call(arguments)\n    selection.prototype.style.apply(getNodeEl(), args)\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the root element anchor of the tooltip\n  //\n  // v - root element of the tooltip\n  //\n  // Returns root node of tip\n  tip.rootElement = function(v) {\n    if (!arguments.length) return rootElement\n    rootElement = v == null ? v : functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if (node) {\n      getNodeEl().remove()\n      node = null\n    }\n    return tip\n  }\n\n  function d3TipDirection() { return 'n' }\n  function d3TipOffset() { return [0, 0] }\n  function d3TipHTML() { return ' ' }\n\n  var directionCallbacks = map({\n        n:  directionNorth,\n        s:  directionSouth,\n        e:  directionEast,\n        w:  directionWest,\n        nw: directionNorthWest,\n        ne: directionNorthEast,\n        sw: directionSouthWest,\n        se: directionSouthEast\n      }),\n      directions = directionCallbacks.keys()\n\n  function directionNorth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionSouth() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function directionEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function directionWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function directionNorthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function directionSouthWest() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function directionSouthEast() {\n    var bbox = getScreenBBox(this)\n    return {\n      top:  bbox.se.y,\n      left: bbox.se.x\n    }\n  }\n\n  function initNode() {\n    var div = select(document.createElement('div'))\n    div\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n\n    return div.node()\n  }\n\n  function getSVGNode(element) {\n    var svgNode = element.node()\n    if (!svgNode) return null\n    if (svgNode.tagName.toLowerCase() === 'svg') return svgNode\n    return svgNode.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if (node == null) {\n      node = initNode()\n      // re-add node to DOM\n      rootElement.appendChild(node)\n    }\n    return select(node)\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),\n  // nw(northwest), sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox(targetShape) {\n    var targetel   = target || targetShape\n\n    while (targetel.getScreenCTM == null && targetel.parentNode != null) {\n      targetel = targetel.parentNode\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  // Private - replace D3JS 3.X d3.functor() function\n  function functor(v) {\n    return typeof v === 'function' ? v : function() {\n      return v\n    }\n  }\n\n  return tip\n}\n","'use strict'\n\nimport * as preproc from './scripts/preprocess.js'\nimport * as viz from './scripts/viz.js'\nimport * as helper from './scripts/helper.js'\nimport * as legend from './scripts/legend.js'\nimport * as tooltip from './scripts/tooltip.js'\n\nimport d3Tip from 'd3-tip'\n\n/**\n * @file This file is the entry-point for the the code for TP2 for the course INF8808.\n * @author Olivia Gélinas\n * @version v1.0.0\n */\n\n(function (d3) {\n  const margin = { top: 80, right: 0, bottom: 80, left: 55 }\n  const barColors = ['#861388',\n    '#d4a0a7',\n    '#dbd053',\n    '#1b998b',\n    '#A0CED9',\n    '#3e6680']\n\n  let bounds\n  let svgSize\n  let graphSize\n\n  const xScale = d3.scaleBand().padding(0.15)\n  const xSubgroupScale = d3.scaleBand().padding([0.015])\n  const yScale = d3.scaleLinear()\n\n  const tip = d3Tip().attr('class', 'd3-tip').html(function (d) { return tooltip.getContents(d) })\n  d3.select('.main-svg').call(tip)\n\n  d3.csv('./romeo_and_juliet.csv').then(function (data) {\n    data = preproc.cleanNames(data)\n\n    const topPlayers = preproc.getTopPlayers(data)\n\n    data = preproc.summarizeLines(data)\n    data = preproc.replaceOthers(data, topPlayers)\n\n    topPlayers.push('Other')\n    topPlayers.sort((a, b) => a.localeCompare(b))\n\n    const g = helper.generateG(margin)\n\n    helper.appendAxes(g)\n    helper.appendGraphLabels(g)\n\n    const color = helper.defineColorScale(barColors, topPlayers)\n\n    legend.draw(topPlayers, color)\n\n    setSizing()\n    build(data, topPlayers)\n\n    /**\n     *   This function handles the graph's sizing.\n     */\n    function setSizing () {\n      bounds = d3.select('.graph').node().getBoundingClientRect()\n\n      svgSize = {\n        width: bounds.width,\n        height: 550\n      }\n\n      graphSize = {\n        width: svgSize.width - margin.right - margin.left,\n        height: svgSize.height - margin.bottom - margin.top\n      }\n\n      helper.setCanvasSize(svgSize.width, svgSize.height)\n    }\n\n    /**\n     *   This function builds the graph.\n     */\n    function build () {\n      helper.positionLabels(graphSize.width, graphSize.height)\n\n      viz.updateGroupXScale(xScale, data, graphSize.width)\n      helper.updateXSubgroupScale(xSubgroupScale, topPlayers, xScale)\n      viz.updateYScale(yScale, data, graphSize.height)\n\n      helper.drawXAxis(xScale, graphSize.height)\n      helper.drawYAxis(yScale)\n\n      viz.createGroups(data, xScale)\n      viz.drawBars(yScale, xSubgroupScale, topPlayers, graphSize.height, color, tip)\n    }\n\n    window.addEventListener('resize', () => {\n      setSizing()\n      build(data, topPlayers)\n    })\n  })\n})(d3)\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}